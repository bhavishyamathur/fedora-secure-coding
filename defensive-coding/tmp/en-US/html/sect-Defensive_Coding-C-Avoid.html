<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>1.2.2. Functions to avoid</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta name="generator" content="publican 2.8" /><meta name="package" content="Defensive_Coding-Defensive_Coding-1-en-US-1.0-20" /><link rel="home" href="index.html" title="Defensive Coding" /><link rel="up" href="sect-Defensive_Coding-C-Libc.html" title="1.2. The C standard library" /><link rel="prev" href="sect-Defensive_Coding-C-Libc.html" title="1.2. The C standard library" /><link rel="next" href="sect-Defensive_Coding-C-String-Functions-Length.html" title="1.2.3. String Functions With Explicit Length Arguments" /></head><body><p id="title"><a class="left" href="http://www.redhat.com"><img src="Common_Content/images/image_left.png" alt="Product Site" /></a><a class="right" href="http://docs.redhat.com"><img src="Common_Content/images/image_right.png" alt="Documentation Site" /></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="sect-Defensive_Coding-C-Libc.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="sect-Defensive_Coding-C-String-Functions-Length.html"><strong>Next</strong></a></li></ul><div class="section" id="sect-Defensive_Coding-C-Avoid"><div class="titlepage"><div><div><h3 class="title">1.2.2. Functions to avoid</h3></div></div></div><div class="para">
			The following string manipulation functions can be used securely in principle, but their use should be avoided because they are difficult to use correctly. Calls to these functions can be replaced with <code class="function">asprintf</code> or <code class="function">vasprintf</code>. (For non-GNU targets, these functions are available from Gnulib.) In some cases, the <code class="function">snprintf</code> function might be a suitable replacement, see <a class="xref" href="sect-Defensive_Coding-C-String-Functions-Length.html">Section 1.2.3, “String Functions With Explicit Length Arguments”</a>.
		</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
					<code class="function">sprintf</code>
				</div></li><li class="listitem"><div class="para">
					<code class="function">strcat</code>
				</div></li><li class="listitem"><div class="para">
					<code class="function">strcpy</code>
				</div></li><li class="listitem"><div class="para">
					<code class="function">vsprintf</code>
				</div></li></ul></div><div class="para">
			Use the indicated replacements for the functions below.
		</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
					<code class="function">alloca</code> ⟶ <code class="function">malloc</code> and <code class="function">free</code> (see <a class="xref" href="sect-Defensive_Coding-C-Allocators-alloca.html">Section 1.3.2, “<code class="function">alloca</code> and other forms of stack-based allocation”</a>)
				</div></li><li class="listitem"><div class="para">
					<code class="function">putenv</code> ⟶ explicit <code class="varname">envp</code> argument in process creation (see <a class="xref" href="sect-Defensive_Coding-Tasks-Processes.html#sect-Defensive_Coding-Tasks-Processes-environ">Section 8.1.3, “Specifying the process environment”</a>)
				</div></li><li class="listitem"><div class="para">
					<code class="function">setenv</code> ⟶ explicit <code class="varname">envp</code> argument in process creation (see <a class="xref" href="sect-Defensive_Coding-Tasks-Processes.html#sect-Defensive_Coding-Tasks-Processes-environ">Section 8.1.3, “Specifying the process environment”</a>)
				</div></li><li class="listitem"><div class="para">
					<code class="function">strdupa</code> ⟶ <code class="function">strdup</code> and <code class="function">free</code> (see <a class="xref" href="sect-Defensive_Coding-C-Allocators-alloca.html">Section 1.3.2, “<code class="function">alloca</code> and other forms of stack-based allocation”</a>)
				</div></li><li class="listitem"><div class="para">
					<code class="function">strndupa</code> ⟶ <code class="function">strndup</code> and <code class="function">free</code> (see <a class="xref" href="sect-Defensive_Coding-C-Allocators-alloca.html">Section 1.3.2, “<code class="function">alloca</code> and other forms of stack-based allocation”</a>)
				</div></li><li class="listitem"><div class="para">
					<code class="function">system</code> ⟶ <code class="function">posix_spawn</code> or <code class="function">fork</code>/<code class="function">execve</code>/ (see <a class="xref" href="sect-Defensive_Coding-Tasks-Processes.html#sect-Defensive_Coding-Tasks-Processes-execve">Section 8.1.2, “Bypassing the shell”</a>)
				</div></li><li class="listitem"><div class="para">
					<code class="function">unsetenv</code> ⟶ explicit <code class="varname">envp</code> argument in process creation (see <a class="xref" href="sect-Defensive_Coding-Tasks-Processes.html#sect-Defensive_Coding-Tasks-Processes-environ">Section 8.1.3, “Specifying the process environment”</a>)
				</div></li></ul></div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="sect-Defensive_Coding-C-Libc.html"><strong>Prev</strong>1.2. The C standard library</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="sect-Defensive_Coding-C-String-Functions-Length.html"><strong>Next</strong>1.2.3. String Functions With Explicit Length Argu...</a></li></ul></body></html>